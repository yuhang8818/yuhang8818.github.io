<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>赵宇航有些话想对你说（点击查看）</title>
<style>
body{
  font-family: Arial;
  text-align:center;
  background:#f4f4f4;
  padding-top:100px;
}

button{
  font-size:18px;
  padding:10px 20px;
  margin:15px;
  cursor:pointer;
  border-radius:8px;
  transition: all 0.2s ease;
}
button:active{
  transform: scale(0.95);
}

.hidden{
  display:none;
}
.fade-in{
  animation: fadeIn 0.5s ease forwards;
}
@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}
.message{
  font-size:26px;
  margin:30px 0;
}

.balance-box{
  margin-top:30px;
  padding:20px;
  border:2px solid #ccc;
  border-radius:12px;
  display:inline-block;
  background:white;
}

.balance-title{
  font-size:20px;
  color:gray;
}

.balance-amount{
  font-size:40px;
  color:green;
  margin-top:10px;
}
</style>
</head>
<body>

<!-- 首页 -->
<div id="home">
  <button onclick="showPage('options')">赵宇航有些话想对你说（点击查看）</button>
  <br>
  <button onclick="earnMoney()">点击赚钱（你会需要的）</button>
  <div class="balance-box">
    <div class="balance-title">账户余额</div>
    <div class="balance-amount" id="dynamicBalance">0€</div>
  </div>
</div>

<!-- 第二页 -->
<div id="options" class="hidden">
  <button onclick="pay()">支付888€查看答案</button>
  <button onclick="freeView()">免费查看</button>
  <br>
  <button onclick="goHome()">Home</button>
</div>

<!-- 支付界面 -->
<div id="payPage" class="hidden">
  <div class="message">支付失败❌扣除余额至赵宇航的钱包</div>
  <div class="message" id="countdown1">18</div>
  <div class="message" style="color:red;">倒计时结束后返回主页</div>
  <div class="balance-box">
    <div class="balance-title">你的账户余额</div>
    <div class="balance-amount" id="accountBalance">0€</div>
  </div>
  <button onclick="goHome()">Home</button>
</div>

<!-- 免费查看界面 -->
<div id="freePage" class="hidden">
  <div class="message">赵宇航超爱❤️CC</div>
  <button onclick="rosePage()">送出520朵玫瑰祝福他们</button>
  <button onclick="doomPage()">祝福你妈了个逼</button>
  <br>
  <button onclick="goHome()">Home</button>
</div>

<!-- 玫瑰界面 -->
<div id="rosePage" class="hidden">
  <div class="message">恭喜你获得皇族赵家的恩宠</div>
  <div class="balance-box">
    <div class="balance-title">HSBC 汇丰银行账户余额</div>
    <div class="balance-amount" id="balanceAmount">0€</div>
  </div>
  <br>
  <button onclick="goHome()">Home</button>
</div>

<!-- 自毁界面 -->
<div id="doomPage" class="hidden">
  <div class="message" id="countdown2">88</div>
  <div class="message" style="color:red;">倒计时结束后启动自毁程序</div>
  <button onclick="goHome()">Home</button>
</div>

<script>
/* 全局变量：动态余额 */
let dynamicBalance = 0;

/* 公共函数 */
function hideAll(){
  const ids = ['home','options','payPage','freePage','rosePage','doomPage'];
  ids.forEach(id=>{
    const el = document.getElementById(id);
    el.classList.add('hidden');
    el.classList.remove('fade-in');
  });
}

function showPage(id){
  hideAll();
  const el = document.getElementById(id);
  el.classList.remove('hidden');
  el.classList.add('fade-in');
}

function goHome(){
  showPage('home');
  updateDynamicBalanceDisplay();
}

/* 首页点击赚钱 */
function earnMoney(){
  dynamicBalance += 100;
  updateDynamicBalanceDisplay();
}

function updateDynamicBalanceDisplay(){
  const el = document.getElementById('dynamicBalance');
  el.textContent = `${dynamicBalance}€`;
}

/* 支付界面 */
function pay(){
  showPage('payPage');

  // 倒计时
  let time = 88;
  const elCountdown = document.getElementById('countdown1');
  elCountdown.textContent = time;
  const countdownTimer = setInterval(()=>{
    time--;
    elCountdown.textContent = time;
    if(time<=0){
      clearInterval(countdownTimer);
      goHome();
    }
  },1000);

  // 余额递减动画，从动态余额扣到0
  const balanceEl = document.getElementById('accountBalance');
  let balance = dynamicBalance; // 使用动态余额
  const step = Math.ceil(balance/100); 
  const balanceTimer = setInterval(()=>{
    balance -= step;
    if(balance<=0) balance=0;
    balanceEl.textContent = `${balance}€`;
    if(balance<=0) clearInterval(balanceTimer);
  },20);

  // 扣完之后更新全局余额
  dynamicBalance = 0;
  updateDynamicBalanceDisplay();
}

/* 免费查看 */
function freeView(){
  showPage('freePage');
}

/* 送玫瑰界面 */
function rosePage(){
  showPage('rosePage');
  const el = document.getElementById('balanceAmount');
  animateBalance(el,888);
}

/* 自毁倒计时界面 */
function doomPage(){
  showPage('doomPage');
  let time = 88;
  const el = document.getElementById('countdown2');
  el.textContent = time;
  const timer = setInterval(()=>{
    time--;
    el.textContent = time;
    if(time<=0){
      clearInterval(timer);
    }
  },1000);
}

/* 余额数字动画 */
function animateBalance(el,target){
  let current = 0;
  const step = Math.ceil(target/50);
  const timer = setInterval(()=>{
    current += step;
    if(current>=target) current = target;
    el.textContent = `+${current}€`;
    if(current>=target) clearInterval(timer);
  },20);
}
</script>
</body>
</html>
